<PlusConfiguration version="1.3">
  <USCalibration>
    <CalibrationController>
      <ProbeCalibration />
      <SegmentationParameters
          ApproximateSpacingMmPerPixel="0.26"
          MorphologicalOpeningCircleRadiusMm="0.55"
          MorphologicalOpeningBarSizeMm="2.0"

          RegionOfInterest="50 100 500 440"

          MaxLinePairDistanceErrorPercent="10.0"

          MaxAngleDifferenceDegrees="11"
          MinThetaDegrees="-70"
          MaxThetaDegrees="70"
          
          AngleToleranceDegrees="5"
          
          ThresholdImagePercent="10.0"

          CollinearPointsMaxDistanceFromLineMm="1.38"

          UseOriginalImageIntensityForDotIntensityScore="0"

        >
      </SegmentationParameters>
    </CalibrationController>
  </USCalibration>

  <PhantomDefinition version="1.1">
    <!-- Supported types are: Double-N, U-Shaped-N -->
    <Description
      Name="iCAL"
      Type="Double-N"
      Version="1.0"
      Institution="Queen's University PerkLab"
    />
    
    <!-- ModelToPhantomTransform - transforming model into phantom coordinate system for proper visualization -->
    <Model
      File="?"
      ModelToPhantomTransform="
        1 0 0 0.0
        0 1 0 0.0
        0 0 1 0.0
        0 0 0 1"
    />

    <Geometry>
      <!-- N wire definitions -->
      <!-- Phantom origin is the inner end of the hole that is on the side of the templete holder, on the side of the triangle shaped hole on the inner part, and closest to the probe -->
      <Pattern Type="NWire" Id="0">
        <Wire Id="0" Name="wire4" EndPointFront="49.86 54.385 62.05" EndPointBack="49.86 54.385 142.05" />
        <Wire Id="1" Name="wire5" EndPointFront="39.86 54.385 62.05" EndPointBack="19.86 54.385 142.05" />
        <Wire Id="2" Name="wire6" EndPointFront="9.86 54.385 62.05" EndPointBack="9.86 54.385 142.05" />
      </Pattern>
      <Pattern Type="NWire" Id="1">
        <Wire Id="0" Name="wire1" EndPointFront="49.86 34.385 62.05" EndPointBack="49.86 34.385 142.05" />
        <Wire Id="1" Name="wire2" EndPointFront="19.86 34.385 62.05" EndPointBack="39.86 34.385 142.05" />
        <Wire Id="2" Name="wire3" EndPointFront="9.86 34.385 62.05" EndPointBack="9.86 34.385 142.05" />
      </Pattern>

      <!-- Landmark list for registration -->
      <Landmarks>
        <Landmark Name="?" Position="0.0 0.0 0.0" />
      </Landmarks>

      <Registration
        MatrixName="PhantomToPhantomReference" 
        MatrixValue="1 0 0 0 
               0 1 0 0 
               0 0 1 0
               0 0 0 1" 
        Date=""
        Error="0.0" />
    </Geometry>

    <CustomTransforms TemplateHolderToPhantomTransform="
          1 0 0 5
          0 1 0 63.5
          0 0 1 0
          0 0 0 1" />

  </PhantomDefinition>

</PlusConfiguration>
