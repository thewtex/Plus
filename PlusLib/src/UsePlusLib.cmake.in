#
# This module is provided as PLUSLIB_USE_FILE 
# It can be INCLUDEd in a project to load the needed compiler and linker
# settings to use Plus library.
#

IF(NOT PLUSLIB_USE_FILE_INCLUDED)
    SET(PLUSLIB_USE_FILE_INCLUDED 1)

    ## Set Plus binary dir path 
    SET(PLUSLIB_DIR "${PlusLib_BINARY_DIR}" )

    ## Find ITK 
	FIND_PACKAGE(ITK PATHS ${ITK_DIR} NO_DEFAULT_PATH)
	IF (ITK_FOUND)
		INCLUDE(${ITK_USE_FILE})
	ELSE (ITK_FOUND)
		MESSAGE(FATAL_ERROR "Please set ITK.")
	ENDIF (ITK_FOUND)

    ## Find VTK 
	FIND_PACKAGE(VTK PATHS ${VTK_DIR} NO_DEFAULT_PATH)
	IF (VTK_FOUND)
		INCLUDE(${VTK_USE_FILE})
	ELSE (VTK_FOUND)
		MESSAGE(FATAL_ERROR "Please set VTK.")
	ENDIF (VTK_FOUND)

    SET(PLUS_USE_OpenIGTLink ${PLUS_USE_OpenIGTLink})
    IF(PLUS_USE_OpenIGTLink)
        FIND_PACKAGE(OpenIGTLink PATHS ${OpenIGTLink_DIR} NO_DEFAULT_PATH)
        IF (OpenIGTLink_USE_FILE)
            INCLUDE (${OpenIGTLink_USE_FILE})
        ELSE (OpenIGTLink_USE_FILE)
            MESSAGE( FATAL_ERROR "Please set OpenIGTLink.")
        ENDIF (OpenIGTLink_USE_FILE)
    ENDIF(PLUS_USE_OpenIGTLink) 
  
	# Add include directories needed to use PlusLib library 
	INCLUDE_DIRECTORIES(${PLUSLIB_INCLUDE_DIRS})

	# Add link directories needed to use Plus library
	LINK_DIRECTORIES(${PLUSLIB_LIBRARY_DIRS})
    
    SET(PLUSLIB_BUILD_SHARED_LIBS ${BUILD_SHARED_LIBS})
    
    SET(QT_QMAKE_EXECUTABLE ${QT_QMAKE_EXECUTABLE})
    
    ## Find SVN 
    SET (SVN_FOUND ${Subversion_FOUND})
    IF ( SVN_FOUND )
        SET( Subversion_SVN_EXECUTABLE "${PLUSLIB_SVN_EXECUTABLE}" CACHE INTERNAL "")
    ENDIF (SVN_FOUND)
    
    ## Set Plus version 
    SET(PLUSLIB_VERSION_MAJOR ${PLUSLIB_VERSION_MAJOR})
    SET(PLUSLIB_VERSION_MINOR ${PLUSLIB_VERSION_MINOR})
    SET(PLUSLIB_VERSION_PATCH ${PLUSLIB_VERSION_PATCH})
    SET(ULTERIUS_MAJOR_VERSION ${ULTERIUS_MAJOR_VERSION})
    
    ## Set third party lib path variables
    SET(ICCAPTURING_BIN_DIR ${ICCAPTURING_BIN_DIR})
    SET(NDIOAPI_BINARY_DIR ${NDIOAPI_BINARY_DIR})
    SET(ULTERIUS_BINARY_DIR ${ULTERIUS_BINARY_DIR})
    
    ## Set Plus use variables 
    SET(PLUS_USE_SONIX_VIDEO ${PLUS_USE_SONIX_VIDEO})
    SET(PLUS_USE_AMS_TRACKER ${PLUS_USE_AMS_TRACKER})
    
    SET(PLUS_USE_FAKE_TRACKER ${PLUS_USE_FAKE_TRACKER})
    SET(PLUS_USE_POLARIS ${PLUS_USE_POLARIS})
    SET(PLUS_USE_CERTUS	 ${PLUS_USE_CERTUS})
    SET(PLUS_USE_FLOCK ${PLUS_USE_FLOCK})
    SET(PLUS_USE_MICRONTRACKER ${PLUS_USE_MICRONTRACKER})
    SET(PLUS_USE_Ascension3DG ${PLUS_USE_Ascension3DG})
    SET(PLUS_USE_MATROX_IMAGING ${PLUS_USE_MATROX_IMAGING})
    SET(PLUS_USE_VIDEO_LINUX ${PLUS_USE_VIDEO_LINUX})
    SET(PLUS_USE_ICCAPTURING_VIDEO ${PLUS_USE_ICCAPTURING_VIDEO})

ENDIF(NOT PLUSLIB_USE_FILE_INCLUDED)
